<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ejercicio - Formulario Bootstrap Responsivo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>
<style>
    /* Color de fondo y fuente de la página */
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        background-color: gray;
        font-family: Arial;
        font-weight: bold;
    }

    .encabezado {
        background-color: black;
        border: 5px solid red;
        text-align: center;
        color: white;
    }
</style>

<body>
    <div class="encabezado">
        <h1>Ejercicio en Clase: Formulario Bootstrap - Productos Alimenticios</h1>
        <h2>Rogelio Zamarripa Treviño - 18100248</h2>
    </div>
    <!--- FORMULARIO Y SUS CAMPOS -->
    <center>
        <h2><i><b>FORMULARIO - PRODUCTOS ALIMENTICIOS</b></i></h2>
        <h3><u><b>OBTENER REGISTRO DE LA BASE DE DATOS (FormData)</b></u></h3>
    </center>
    <form id="formularioProductos" method="post">
        <!-- PRIMERA FILA DEL FORMULARIO -->
        <div class="form-group">
            <div class="row">
                <div class="form-group col-sm-12 col-md-4 col-lg-4">
                    <label for="codigoProducto" class="form-label">Código de Producto</label>
                    <input required name="codigoProducto" type="text" id="codigoProducto" placeholder="PR00000"
                        class="form-control">
                </div>
                <div class="form-group col-sm-12 col-md-4 col-lg-4">
                    <label for="nombreProducto" class="form-label">Producto</label>
                    <input name="nombreProducto" type="text" id="nombreProducto" placeholder="Producto y Marca"
                        class="form-control">
                </div>
                <div class="form-group col-sm-12 col-md-4 col-lg-4">
                    <label for="departamento" class="form-label">Departamento</label>
                    <select name="departamento" id="departamento" class="form-control">
                        <option>Abarrotes</option>
                        <option>Aceites y mantecas</option>
                        <option>Alimentos preparados</option>
                        <option>Arroz, pasta y semillas</option>
                        <option>Bebidas</option>
                        <option>Bebidas alcohólicas</option>
                        <option>Botanas</option>
                        <option>Dulcería</option>
                        <option>Frutas y verduras</option>
                        <option>Galletas y postres</option>
                        <option>Harinas y pan</option>
                        <option>Huevos y carnes frías</option>
                        <option>Lácteos</option>
                        <option>Pescados y mariscos</option>
                        <option>Productos enlatados</option>
                        <option>Productos congelados y/o refrigerados</option>
                    </select>
                </div>
            </div>
        </div>
        <!-- SEGUNDA FILA DEL FORMULARIO -->
        <div class="form-group">
            <div class="row">
                <div class="form-group col-sm-6 col-md-6 col-lg-6">
                    <label for="proveedorProducto" class="form-label">Proveedor</label>
                    <input name="proveedorProducto" type="text" id="proveedorProducto"
                        placeholder="Nombre de la empresa proveedora" class="form-control">
                </div>
                <div class="form-group col-sm-6 col-md-6 col-lg-6">
                    <label for="codigoProveedor" class="form-label">Código del Proveedor</label>
                    <input name="codigoProveedor" type="text" id="codigoProveedor" placeholder="EP-00000"
                        class="form-control">
                </div>
            </div>
        </div>
        <!-- TERCERA FILA DEL FORMULARIO -->
        <div class="form-group">
            <div class="row">
                <div class="form-group col-sm-6 col-md-6 col-lg-6">
                    <label for="precioCompra" class="form-label">Precio de Compra</label>
                    <input name="precioCompra" type="text" id="precioCompra" placeholder="00.00"
                        class="form-control">
                </div>
                <div class="form-group col-sm-6 col-md-6 col-lg-6">
                    <label for="precioVenta" class="form-label">Precio de Venta</label>
                    <input name="precioVenta" type="text" id="precioVenta" placeholder="00.00"
                        class="form-control">
                </div>
            </div>
        </div>
        <!-- CUARTA FILA DEL FORMULARIO -->
        <div class="form-group">
            <div class="row">
                <div class="form-group col-sm-12 col-md-4 col-lg-4">
                    <label for="cantProdVendidos" class="form-label">Cant. de Productos Vendidos</label>
                    <input name="cantProdVendidos" type="text" id="cantProdVendidos" placeholder="0000"
                        class="form-control">
                </div>
                <div class="form-group col-sm-12 col-md-4 col-lg-4">
                    <label for="cantProdExistentes" class="form-label">Cant. de Productos en Existencia</label>
                    <input name="cantProdExistentes" type="text" id="cantProdExistentes" placeholder="0000"
                        class="form-control">
                </div>
                <div class="form-group col-sm-12 col-md-4 col-lg-4">
                    <label for="estadoProducto" class="form-label">Estado del Producto</label>
                    <select name="estadoProducto" id="estadoProducto" class="form-control">
                        <option>Disponible</option>
                        <option>No Disponible</option>
                        <option>Nuevo</option>
                        <option>Poco Inventario</option>
                    </select>
                </div>
            </div>
        </div>
        <br>
        <!-- Botón ConsultaDB -->
        <button name="btnConsultaDB" id="btnConsultaDB" type="button" class="btn btn-success">Consulta DB (PR00001 - PR00008) 📝</button>
        <!-- Botón Llenar Datos
        <button id="btnGet" type="button" class="btn btn-warning">Obtener Registro 📝</button> -->
        <!-- Button Live Toast -->
        <button type="button" class="btn btn-primary" id="liveToastBtn">Show live toast</button>
        <!-- Button Trigger Modal -->
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Launch demo modal
        </button>
    </form>

    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <img src="..." class="rounded me-2" alt="...">
                <strong class="me-auto">Bootstrap</strong>
                <small>11 mins ago</small>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                Hello, world! This is a toast message.
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Título de Modal</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Ejemplo de Modal con HTML y CSS.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>
    <script>
        const toastTrigger = document.getElementById('liveToastBtn')
        const toastLiveExample = document.getElementById('liveToast')
        if (toastTrigger) {
            toastTrigger.addEventListener('click', () => {
                const toast = new bootstrap.Toast(toastLiveExample)
                toast.show()
            })
        }

    </script>

    <!--- Botón consultaDB -->
    <script>
        document.getElementById("btnConsultaDB").addEventListener("click", async() =>
        {
            var datosFormulario = new FormData(document.getElementById("formularioProductos"));
            let respuesta = await fetch('consultaDB.php',
            {
                method: 'POST',
                body: datosFormulario
            })
            let dato = await respuesta.json();

            document.getElementById("codigoProducto").value = dato.codigoProducto;
            document.getElementById("nombreProducto").value = dato.nombreProducto;
            document.getElementById("departamento").value = dato.departamento;
            document.getElementById("proveedorProducto").value = dato.proveedorProducto;
            document.getElementById("codigoProveedor").value = dato.codigoProveedor;
            document.getElementById("precioCompra").value = dato.precioCompra;
            document.getElementById("precioVenta").value = dato.precioVenta;
            document.getElementById("cantProdVendidos").value = dato.cantProdVendidos;
            document.getElementById("cantProdExistentes").value = dato.cantProdExistentes;
            document.getElementById("estadoProducto").value = dato.estadoProducto;
        })
    </script>
</body>
</html>